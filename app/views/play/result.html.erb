
<style>
.width {
   width: 100%;
   max-width: 800px;
   padding: 15px;
   margin: auto;
}

.alert-width{
  width: 100%;
  max-width: 1200px;
  padding: 15px;
  margin: auto;
}
</style>
<br>
<% if @challenge.result%>
  <div class="alert alert-success text-center alert-width" role="alert">
  <h4 class="alert-heading">🏆You Win🏆</h4>
  <p>Aww yeah, shouts out you</p>
  <%= @score %>
  <hr>

<% else %>
  <div class="alert alert-danger text-center alert-width" role="alert">
  <h4 class="alert-heading">Sorry.... 😔</h4>
  <p>Try again </p>

  <p> <span style="font-weight:bold;"> Regex:</span> /<span style="color: red;"><%= @challenge.regex %></span>/</p>
  <p><span style="font-weight:bold;">Expected:</span> <span style="color: green; "><%= @challenge.solution.split(',').map {|word| word.strip} %></span></p>
  <p><span style="font-weight:bold;">Got:</span> <span style="color: red;"><%= @challenge.match_value(/#{@challenge.regex}/) %></span></p>
  <hr>
<%end%>
<br>


<table class="table table-hover table-light width ">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">@username</th>
      <th scope="col">Score</th>
    </tr>
  </thead>
  <tbody>
    <% @user_challenges = @user_challenges.sort_by {|x| -x[:score]}
 %>
    <%@i = 0%>

    <% @user_challenges.each do |user_challenge| %>
    <tr>
      <th scope="row"> <%= @i+1 %></th>
      <%@i = @i + 1%>
      <td><%=  "@" + User.find(user_challenge.user_id).username %></td>
      <td><%= user_challenge.score %> </td>
    <tr>

    <% end %>
  </tbody>
</table>

</div>
